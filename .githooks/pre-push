#!/bin/sh
branch="$(git rev-parse --abbrev-ref HEAD)"

echo "ğŸ”„ Auto rebase $branch vá»›i origin/$branch trÆ°á»›c khi push..."

# Kiá»ƒm tra branch Ä‘Ã£ tá»“n táº¡i trÃªn remote chÆ°a
if git ls-remote --exit-code origin "$branch" >/dev/null 2>&1; then
  if git pull --rebase origin "$branch"; then
    echo "âœ… Rebase thÃ nh cÃ´ng"
  else
    echo "âŒ Rebase lá»—i, há»§y push"
    exit 1
  fi
else
  echo "â„¹ï¸ Branch $branch chÆ°a tá»“n táº¡i trÃªn remote, skip rebase"
fi
